"use strict";(self.webpackChunksecretpad=self.webpackChunksecretpad||[]).push([[5822],{99147:function(q,R,e){e.d(R,{s:function(){return V}});var W=e(90819),o=e.n(W),y=e(89933),M=e.n(y),j=e(4977),A=e.n(j),I=e(78796),N=e.n(I),T=e(41553),u=e.n(T),S=e(49488),$=e.n(S),Z=e(84047),H=e.n(Z),z=e(10154),l=e.n(z),D=e(97627),G=e(14970),K=e.n(G),U=e(19805),w=e(24138),x=e(90634),V=function(F){$()(r,F);var O=H()(r);function r(){var _;N()(this,r);for(var B=arguments.length,J=new Array(B),b=0;b<B;b++)J[b]=arguments[b];return _=O.call.apply(O,[this].concat(J)),l()(u()(_),"nodeInfoLoading",!1),l()(u()(_),"nodeInfo",{}),l()(u()(_),"enableInstance",0),l()(u()(_),"allInstance",0),l()(u()(_),"nodeInstances",[]),l()(u()(_),"getNodeInfo",function(){var h=M()(o()().mark(function m(t){var a,d;return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return _.nodeInfoLoading=!0,n.next=5,(0,U.get)({nodeId:t});case 5:a=n.sent,a.data&&(_.nodeInfo=a.data,_.nodeInstances=((d=a.data)===null||d===void 0?void 0:d.nodeInstances)||[],_.allInstance=_.nodeInstances.length,_.enableInstance=_.nodeInstances.filter(function(v){return v.status==="Ready"}).length),_.nodeInfoLoading=!1;case 8:case"end":return n.stop()}},m)}));return function(m){return h.apply(this,arguments)}}()),l()(u()(_),"changeCommonNetAddress",function(){var h=M()(o()().mark(function m(t,a){var d,E,n;return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,(0,U.update)({netAddress:t,nodeId:a});case 4:E=s.sent,((d=E.status)===null||d===void 0?void 0:d.code)==0?(_.getNodeInfo(a),D.ZP.success("\u901A\u8BAF\u5730\u5740\u66F4\u6539\u6210\u529F")):D.ZP.error((n=E.status)===null||n===void 0?void 0:n.msg);case 6:case"end":return s.stop()}},m)}));return function(m,t){return h.apply(this,arguments)}}()),l()(u()(_),"resetEdgeNodePwd",function(){var h=M()(o()().mark(function m(t,a,d,E){var n,v,s,C;return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,w.resetPwd)({nodeId:t,name:a,passwordHash:K()(d).toString(),newPasswordHash:K()(E).toString()});case 2:if(s=i.sent,((n=s.status)===null||n===void 0?void 0:n.code)!=0){i.next=8;break}return D.ZP.success("\u5BC6\u7801\u8BBE\u7F6E\u6210\u529F"),i.abrupt("return",!0);case 8:((v=s.status)===null||v===void 0?void 0:v.code)===202011100?D.ZP.error("\u539F\u5BC6\u7801\u9519\u8BEF"):D.ZP.error((C=s.status)===null||C===void 0?void 0:C.msg);case 9:return i.abrupt("return",!1);case 10:case"end":return i.stop()}},m)}));return function(m,t,a,d){return h.apply(this,arguments)}}()),_}return A()(r)}(x.Hn)},65561:function(q,R,e){e.r(R);var W=e(90819),o=e.n(W),y=e(89933),M=e.n(y),j=e(45332),A=e.n(j),I=e(9075),N=e(60950),T=e(58757),u=e(62664),S=e(63057),$=e(53701),Z=e(4347),H=e(84567),z=e(22102),l=e(42181),D=e(56509),G=e(5777),K=e(16310),U=e(24994),w=e(63348),x=e(99147),V=e(17612),F=e(16707),O=e(90634),r=e(35667),_=[{label:"\u6570\u636E\u6E90\u7BA1\u7406",icon:(0,r.jsx)(I.Z,{component:S.r}),component:(0,r.jsx)(D.D,{}),key:"data-source"},{label:"\u6570\u636E\u7BA1\u7406",icon:(0,r.jsx)(I.Z,{component:$.r}),component:(0,r.jsx)(l.h,{}),key:"data-management"},{label:"\u5408\u4F5C\u8282\u70B9",icon:(0,r.jsx)(I.Z,{component:Z.r}),component:(0,r.jsx)(z.V,{}),key:"connected-node"},{label:"\u7ED3\u679C\u7BA1\u7406",icon:(0,r.jsx)(I.Z,{component:H.r}),component:(0,r.jsx)(F.H,{}),key:"result"}],B=function(){var b=(0,u.TH)(),h=b.search,m=(0,N.parse)(h),t=m.nodeId,a=(0,O.tT)(K.z),d=(0,O.tT)(w.ez),E=(0,O.tT)(V.s),n=(0,O.tT)(x.s),v=(0,T.useState)(_),s=A()(v,2),C=s[0],Y=s[1],i=(0,T.useState)("data-source"),k=A()(i,2),ee=k[0],_e=k[1];return(0,T.useEffect)(function(){var Q=function(){var g=M()(o()().mark(function P(){var f,c;return o()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,E.listNode();case 2:f=L.sent,t&&(c=f.find(function(ne){return t===ne.nodeId}),c&&E.setCurrentNode(c));case 4:case"end":return L.stop()}},P)}));return function(){return g.apply(this,arguments)}}(),X=function(){var g=M()(o()().mark(function P(){var f;return o()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!t){p.next=5;break}return p.next=3,d.getMessageCount(t);case 3:f=p.sent,f.status&&a.setMessageCount((f==null?void 0:f.data)||0);case 5:case"end":return p.stop()}},P)}));return function(){return g.apply(this,arguments)}}();a.setSubTitle("Edge"),Q(),X()},[]),(0,T.useEffect)(function(){var Q=function(){var X=M()(o()().mark(function g(){var P;return o()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,n.getNodeInfo(t);case 2:n.nodeInfo.nodeId==="tee"&&n.nodeInfo.type==="embedded"&&(P=C.filter(function(p){return p.key!=="data-source"}),_e("data-management"),Y(P));case 3:case"end":return c.stop()}},g)}));return function(){return X.apply(this,arguments)}}();Q()},[t]),(0,r.jsx)(G.O,{children:(0,r.jsx)(U.q,{menuItems:C,defaultTabKey:ee})})};R.default=B}}]);
